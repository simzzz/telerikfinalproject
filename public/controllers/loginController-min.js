import{templates}from"templates";import{UserRequester}from"userRequester";const loginController=function(e){templates.getPage("login",{}).done(()=>{$("#dropdownMenuLink").click(()=>{$("#dropdownMenu").hasClass("hidden")?$("#dropdownMenu").removeClass("hidden"):$("#dropdownMenu").addClass("hidden")}),$("#title").html("Log In");const e=$("#btn-login"),s=$("#tb-email"),n=$("#tb-password");e.on("click",()=>{if(s.val()&&n.val()){const e=new UserRequester;Promise.resolve(e.signInWithEmailAndPassword(s.val(),n.val())).then(e=>{$("#loginBtn").addClass("hidden"),$("#registerBtn").addClass("hidden"),$("#currentUser").removeClass("hidden"),$("#logoutBtn").removeClass("hidden"),$("#currentUserInner").text(`Hello, ${e.displayName}`),toastr.success(`You have successfully logged in as ${e.displayName}`),location.hash="/home"},function(e){toastr.error(`There was an error: ${e.message}\n                        Please try again.`)})}else toastr.error("Fill all the fields!")})})};export{loginController};